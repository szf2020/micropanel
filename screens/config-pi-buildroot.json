{
  "modules": [
    {
      "id": "network_menu",
      "title": "Network",
      "enabled": true,
      "type": "menu",
      "submenus": [
        {"id": "network_status", "title": "Status"},
        {"id": "network_config", "title": "Config"},
        {"id": "back", "title": "Back"}
      ]
    },
    {
      "id": "system_menu",
      "title": "System",
      "enabled": true,
      "type": "menu",
      "submenus": [
        {"id": "invert_display", "title": "Invert Display"},
        {"id": "brightness", "title": "Brightness"},
        {"id": "system", "title": "System Stats"},
        {"id": "power_settings", "title": "Power Settings"},
        {"id": "hdmi_out", "title": "HDMI Timing"},
        {"id": "back", "title": "Back"}
      ]
    },
    {
      "id": "throughputserver",
      "title": "IPerf3 Server",
      "enabled": true,
      "depends": {
        "iperf3_path": "/usr/bin/iperf3",
        "default_port": "5201"
      }
    },
    {
      "id": "throughputclient",
      "title": "IPerf3 Client",
      "enabled": true,
      "depends": {
        "iperf3_path": "/usr/bin/iperf3",
        "default_port": "5201",
        "default_duration": "10",
        "default_protocol": "tcp",
        "default_bandwidth": "0",
        "default_parallel": "1",
        "default_server_ip": "192.168.1.1"
      }
    },
    {
      "id": "media_menu",
      "title": "Multimedia",
      "enabled": true,
      "type": "menu",
      "submenus": [
        {"id": "test_patches", "title": "Test Patches"},
        {"id": "video_player", "title": "Videos"},
        {"id": "image_player", "title": "Images"},
        {"id": "back", "title": "Back"}
      ]
    },
    {
      "id": "update_fpga",
      "title": "Update FPGA",
      "enabled": true,
      "type": "GenericList",
      "list_items": [
    {
      "title": "14.6-fhd",
      "action": "/usr/bin/fpga-jtag-flasher.sh --flash=/usr/share/micropanel/fpga/bitbin/$1.bin",
      "async": true,
      "timeout": 350,
      "log_file": "/tmp/fpga-flash.log",
      "progress_title": "Updating $1 FPGA.."
    },
    {
      "title": "14.6-fhd-half",
      "action": "/usr/bin/fpga-jtag-flasher.sh --flash=/usr/share/micropanel/fpga/bitbin/$1.bin",
      "async": true,
      "timeout": 350,
      "log_file": "/tmp/fpga-flash.log",
      "progress_title": "Updating $1 FPGA.."
    },
    {
      "title": "14.6-fhd-full",
      "action": "/usr/bin/fpga-jtag-flasher.sh --flash=/usr/share/micropanel/fpga/bitbin/$1.bin",
      "async": true,
      "timeout": 350,
      "log_file": "/tmp/fpga-flash.log",
      "progress_title": "Updating $1 FPGA.."
    },
    {
      "title": "15.6-2k5",
      "action": "/usr/bin/fpga-jtag-flasher-lattice.sh --flash=/usr/share/micropanel/fpga/bitbin/$1.bit",
      "async": true,
      "timeout": 70,
      "log_file": "/tmp/fpga-flash.log",
      "progress_title": "Updating $1 FPGA.."
    },
    {
      "title": "27-inch",
      "action": "/usr/bin/fpga-jtag-flasher-lattice.sh --flash=/usr/share/micropanel/fpga/bitbin/$1.bit",
      "async": true,
      "timeout": 70,
      "log_file": "/tmp/lattice-flash.log",
      "progress_title": "Updating $1 FPGA..."
    },
    {
      "title": "Back"
    }
    ]
    },
    {
      "id": "mcu_flash_menu",
      "type": "GenericList",
      "title": "IOC-Update",
      "enabled": true,
      "list_items": [
      {
      "title": "983HH",
      "action": "cd /usr/share/micropanel/bin/ && ./flashrh850.sh --script=bios-ver-09-autorun-delay.txt --bios=$1_Board_ROMBIOS.bin",
      "async": true,
      "timeout": 120,
      "log_file": "/tmp/rh850-flash.log",
      "progress_title": "Flashing MCU $1...",
      "parse_progress": true
      },
      {
      "title": "EJ14-6",
      "action": "cd /usr/share/micropanel/bin/ && ./flashrh850.sh --script=bios-ver-09-autorun-delay.txt --bios=$1_Board_ROMBIOS.bin",
      "async": true,
      "timeout": 120,
      "log_file": "/tmp/rh850-flash.log",
      "progress_title": "Flashing IOC $1...",
      "parse_progress": true
      },
      {
      "title": "Back"
      }
    ]
    },
    {
      "id": "buzzer_settings",
      "title": "Buzzer",
      "enabled": false,
      "type": "GenericList",
      "list_items": [
        {"title": "On", "action": "/usr/bin/buzzer.sh On"},
        {"title": "Off", "action": "/usr/bin/buzzer.sh Off"},
        {"title": "Back"}
      ],
      "list_selection": "/usr/bin/buzzer.sh"
    },
    {
      "id": "test_patches",
      "title": "Test Patches",
      "enabled": false,
      "type": "GenericList",
      "list_items": [
        {"title": "off", "action": "/usr/bin/patch-generator --off"},
        {"title": "red", "action": "/usr/bin/patch-generator --daemon red"},
        {"title": "green", "action": "/usr/bin/patch-generator --daemon green"},
        {"title": "blue", "action": "/usr/bin/patch-generator --daemon blue"},
        {"title": "cyan", "action": "/usr/bin/patch-generator --daemon cyan"},
        {"title": "magenta", "action": "/usr/bin/patch-generator --daemon magenta"},
        {"title": "yellow", "action": "/usr/bin/patch-generator --daemon yellow"},
        {"title": "white", "action": "/usr/bin/patch-generator --daemon white"},
        {"title": "Back"}
      ],
      "list_selection": "/usr/bin/patch-generator --read"
    },
    {
      "id": "power_settings",
      "title": "Power Settings",
      "enabled": false,
      "type": "GenericList",
      "list_items": [
        {"title": "Reboot", "action": "/usr/sbin/reboot"},
        {"title": "Poweroff", "action": "/usr/sbin/poweroff"},
        {"title": "Back"}
      ]
    },
    {
      "id": "hdmi_out",
      "title": "HDMI Timing",
      "enabled": false,
      "type": "GenericList",
      "list_items": [
        {"title": "edid", "action": "/usr/bin/pi-config-txt.sh --input=/boot/config.txt --type=$1"},
        {"title": "14.6-fhd", "action": "/usr/bin/pi-config-txt.sh --input=/boot/config.txt --type=$1"},
        {"title": "14.6", "action": "/usr/bin/pi-config-txt.sh --input=/boot/config.txt --type=$1"},
        {"title": "15.6", "action": "/usr/bin/pi-config-txt.sh --input=/boot/config.txt --type=$1"},
        {"title": "27", "action": "/usr/bin/pi-config-txt.sh --input=/boot/config.txt --type=$1"},
        {"title": "Back"}
      ],
      "list_selection": "/usr/bin/pi-config-txt.sh --input=/boot/config.txt"
    },
    {
      "id": "video_player",
      "title": "Videos",
      "enabled": false,
      "type": "GenericList",
      "items_source": "/usr/bin/list-videos.sh",
      "items_path": "/usr/share/micropanel/media/videos",
      "items_action": "/usr/bin/play-video.sh $1 /usr/share/micropanel/media/videos",
      "list_selection": "/usr/bin/list-videos.sh",
      "list_items": [
        {"title": "Stop-Playback", "action": "/usr/bin/stop-video.sh"},
        {"title": "Back"}
      ]
    },
    {
      "id": "image_player",
      "title": "Images",
      "enabled": false,
      "type": "GenericList",
      "items_source": "/usr/bin/list-images.sh",
      "items_path": "/usr/share/micropanel/media/images",
      "items_action": "/usr/bin/play-image.sh $1 /usr/share/micropanel/media/images",
      "list_selection": "/usr/bin/list-images.sh",
      "list_items": [
        {"title": "Stop-Playback", "action": "/usr/bin/stop-image.sh"},
        {"title": "Back"}
      ]
    },
    {
      "id": "network_config",
      "title": "Config",
      "enabled": true,
      "type": "menu",
      "submenus": [
        {"id": "netsettings", "title": "IP Settings"},
        {"id": "wifi", "title": "WiFi Settings"},
        {"id": "back", "title": "Back"}
      ]
    },
    {
      "id": "network_status",
      "title": "Status",
      "enabled": true,
      "type": "menu",
      "submenus": [
        {"id": "netinfo", "title": "Interfaces"},
        {"id": "ping", "title": "Ping Test"},
        {"id": "internet", "title": "Internet Test"},
        {"id": "speedtest", "title": "Speed Test"},
        {"id": "back", "title": "Back"}
      ]
    },
    {
      "id": "brightness",
      "title": "Brightness",
      "enabled": false
    },
    {
      "id": "system",
      "title": "System Stats",
      "enabled": false
    },
    {
      "id": "netsettings",
      "title": "IP Settings",
      "enabled": true,
      "depends": {
        "action_script": "/usr/bin/dhcp-net-settings.sh",
        "os_type": "buildroot",
        "iface_name": "end0"
      }
    },
    {
      "id": "netinfo",
      "title": "Network Info",
      "enabled": true
    },
    {
      "id": "ping",
      "title": "Ping Tool",
      "enabled": true
    },
    {
      "id": "internet",
      "title": "Internet Test",
      "enabled": true
    },
    {
      "id": "speedtest",
      "title": "Speed Test",
      "enabled": true,
      "depends": {
        "download_url": "https://cachefly.cachefly.net/50mb.test"
      }
    },
    {
      "id": "wifi",
      "title": "WiFi Settings",
      "enabled": false,
      "depends": {
        "daemon_script": "/etc/init.d/networking"
      }
    },
    {
      "id": "invert_display",
      "title": "Invert Display",
      "enabled": false,
      "type": "action",
      "action": "invert_display"
    }
  ],
  "persistent_data": {
    "file_path": "/etc/micropanel/settings.json"
  }
}
